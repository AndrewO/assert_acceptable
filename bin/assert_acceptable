#!/usr/bin/env macruby

require 'rubygems'
require 'hotcocoa'

include HotCocoa

application do |app|
  image_path = ARGV[0]
  title = ARGV[1] || "Assert Acceptable"
  
  win = window :title => title, :size => [500, 650]
  win.view = layout_view(:layout => {:expand => [:width, :height], :padding => 0}) do |vert|
     vert << image_view(:frame => [0, 0, 500, 500], :file => image_path)
     vert << layout_view(:frame => [0, 0, 0, 40], :mode => :horizontal,
                         :layout => { :padding => 0, :start => false, :expand => [:width] }
    ) do |horiz|
      accept_button = button :title => "Accept", :align => :right, :width => 100
      accept_button.on_action { exit 0 }
      horiz << accept_button
      
      fail_button = button :title => "Fail", :align => :right, :width => 100
      fail_button.on_action { exit 1 }
      horiz << fail_button
    end
  end
end
